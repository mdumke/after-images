const e=document.querySelector("#timer-text"),t=document.querySelector("#screen"),r=document.querySelector("#square"),c={red:document.querySelector("#red"),green:document.querySelector("#green"),blue:document.querySelector("#blue"),yellow:document.querySelector("#yellow")},o=t=>{e.textContent=t},n=e=>{t.style.backgroundColor=e,r.style.backgroundColor="#ccc"},l=e=>{Object.keys(c).forEach((e=>{c[e].classList.remove("selected")})),c[e].classList.add("selected")};const s=new class{counter=0;timer=0;start(e,t){return this.stop(),this.counter=e,t(e),new Promise((e=>{this.timer=setInterval((()=>{this.counter--,0===this.counter&&(this.stop(),e()),t(this.counter)}),1e3)}))}stop(){clearInterval(this.timer)}},u=async()=>{await s.start(30,(e=>{o(e.toString())})),o("Start Timer"),t.style.backgroundColor="#fff",r.style.backgroundColor="#fff"},d=e=>()=>{n(e),l(e)};document.addEventListener("DOMContentLoaded",(()=>{document.querySelector("#timer")?.addEventListener("click",u),document.querySelector("#red")?.addEventListener("click",d("red")),document.querySelector("#green")?.addEventListener("click",d("green")),document.querySelector("#blue")?.addEventListener("click",d("blue")),document.querySelector("#yellow")?.addEventListener("click",d("yellow"))}),{once:!0});